(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[277],{390:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(2137),a=n(7757),i=n.n(a),c=n(7294),o=n(5149),s=function(e){var t=e.draw,n=e.height,r=e.width,a=e.borderStyle,i=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e,n=i.current.getContext("2d");return function r(){t(n),e=window.requestAnimationFrame(r)}(),function(){window.cancelAnimationFrame(e)}}),[t]),c.createElement("canvas",{ref:i,className:a,width:r,height:n})},l="chip8Page-module--pText--23yX5",u="chip8Page-module--boxText--3QnRc",m="chip8Page-module--instructionLine--22rVM",f="chip8Page-module--centerDiv--752J8",g="chip8Page-module--chipButton--3Brnh",p="chip8Page-module--line--3EH8E",d=function(e){var t=(0,c.useRef)(null),n=(0,c.useRef)(null),r=(0,c.useRef)(null),a=(0,c.useRef)(null),i=(0,c.useRef)(null),o=(0,c.useRef)(null),s=(0,c.useRef)(null),l=(0,c.useRef)(null),m=(0,c.useRef)(null),f=(0,c.useRef)(null),g=(0,c.useRef)(null),p=(0,c.useRef)(null),d=(0,c.useRef)(null),S=(0,c.useRef)(null),h=(0,c.useRef)(null),E=(0,c.useRef)(null),k=(0,c.useRef)(null),v=(0,c.useRef)(null),_=(0,c.useRef)(null),w=(0,c.useRef)(null),x=(0,c.useRef)(null),y=(0,c.useRef)(null),b=function(e,t,n){return void 0===n&&(n=!0),c.createElement(c.Fragment,null,n&&c.createElement(c.Fragment,null,c.createElement("span",null),c.createElement("span",null)),c.createElement("text",{className:u},"V"+e+": "),c.createElement("text",{className:u,ref:t}))},N=e.get_value;return(0,c.useEffect)((function(){var e,c=t.current,u=n.current,b=r.current,L=i.current,T=a.current,R=o.current,V=s.current,M=l.current,D=m.current,P=f.current,H=g.current,C=p.current,A=d.current,B=S.current,I=h.current,F=E.current,W=k.current,O=v.current,q=_.current,z=w.current,J=x.current,U=y.current;return function t(){if(N()){var n=N();c.innerHTML="0x"+n.pc.toString(16),u.innerHTML="0x"+n.index.toString(16),b.innerHTML=""+n.opcode,T.innerHTML="0x"+n.dt.toString(16),L.innerHTML="0x"+n.st.toString(16),R.innerHTML="0x"+n.si.toString(16),V.innerHTML="0x"+n.registers[0].toString(16),M.innerHTML="0x"+n.registers[1].toString(16),D.innerHTML="0x"+n.registers[2].toString(16),P.innerHTML="0x"+n.registers[3].toString(16),H.innerHTML="0x"+n.registers[4].toString(16),C.innerHTML="0x"+n.registers[5].toString(16),A.innerHTML="0x"+n.registers[6].toString(16),B.innerHTML="0x"+n.registers[7].toString(16),I.innerHTML="0x"+n.registers[8].toString(16),F.innerHTML="0x"+n.registers[9].toString(16),W.innerHTML="0x"+n.registers[10].toString(16),O.innerHTML="0x"+n.registers[11].toString(16),q.innerHTML="0x"+n.registers[12].toString(16),z.innerHTML="0x"+n.registers[13].toString(16),J.innerHTML="0x"+n.registers[14].toString(16),U.innerHTML="0x"+n.registers[15].toString(16)}e=window.requestAnimationFrame(t)}(),function(){window.cancelAnimationFrame(e)}}),[N]),c.createElement("div",{className:"chip8Page-module--textBox--2946a"},c.createElement("text",{className:u},"PC: "),c.createElement("text",{className:u,ref:t}),b("0",s,!1),c.createElement("text",{className:u},"Index: "),c.createElement("text",{className:u,ref:n}),b("1",l,!1),c.createElement("text",{className:u},"SI: "),c.createElement("text",{className:u,ref:o}),b("2",m,!1),c.createElement("text",{className:u},"DT: "),c.createElement("text",{className:u,ref:a}),b("3",f,!1),c.createElement("text",{className:u},"ST: "),c.createElement("text",{className:u,ref:i}),b("4",g,!1),c.createElement("text",{className:u},"OP: "),c.createElement("span",null),b("5",p,!1),c.createElement("text",{className:u,ref:r}),c.createElement("span",null),b("6",d,!1),b("7",S),b("8",h),b("9",E),b("a",k),b("b",v),b("c",_),b("d",w),b("e",x),b("f",y))},S=function(e,t){switch(e.key){case"1":t.set_key_down(1);break;case"2":t.set_key_down(2);break;case"3":t.set_key_down(3);break;case"4":t.set_key_down(12);break;case"a":t.set_key_down(7);break;case"s":t.set_key_down(8);break;case"d":t.set_key_down(9);break;case"f":t.set_key_down(14);break;case"q":t.set_key_down(4);break;case"w":t.set_key_down(5);break;case"e":t.set_key_down(6);break;case"r":t.set_key_down(13);break;case"z":t.set_key_down(10);break;case"x":t.set_key_down(0);break;case"c":t.set_key_down(11);break;case"v":t.set_key_down(15)}},h=function(e,t){switch(e.key){case"1":t.set_key_up(1);break;case"2":t.set_key_up(2);break;case"3":t.set_key_up(3);break;case"4":t.set_key_up(12);break;case"a":t.set_key_up(7);break;case"s":t.set_key_up(8);break;case"d":t.set_key_up(9);break;case"f":t.set_key_up(14);break;case"q":t.set_key_up(4);break;case"w":t.set_key_up(5);break;case"e":t.set_key_up(6);break;case"r":t.set_key_up(13);break;case"z":t.set_key_up(10);break;case"x":t.set_key_up(0);break;case"c":t.set_key_up(11);break;case"v":t.set_key_up(15)}},E=function(e){var t=(3840&e)>>8,n=(240&e)>>4,r=4095&e,a=255&e,i=15&e;if(224===e)return"CLS";if(238===e)return"RET";if(k(e,4096,8191))return"JP 0x"+r.toString(16);if(k(e,8192,12287))return"CALL 0x"+r.toString(16);if(k(e,12288,16383))return"SE V"+i+" 0x"+a.toString(16);if(k(e,16384,20479))return"SNE V"+i+" 0x"+a.toString(16);if(k(e,20480,24575))return"SE V"+t.toString(16)+" V"+n.toString(16);if(k(e,24576,28671))return"LD V"+t.toString(16)+" 0x"+a.toString(16);if(k(e,28672,32767))return"ADD V"+t.toString(16)+" 0x"+a.toString(16);if(k(e,32768,36863)){if(0===i)return"LD V"+t.toString(16)+" V"+n.toString(16);if(1===i)return"OR V"+t.toString(16)+" V"+n.toString(16);if(2===i)return"AND V"+t.toString(16)+" V"+n.toString(16);if(3===i)return"XOR V"+t.toString(16)+" V"+n.toString(16);if(4===i)return"ADD V"+t.toString(16)+" V"+n.toString(16);if(5===i)return"SUB V"+t.toString(16)+" V"+n.toString(16);if(6===i)return"SHR V"+t.toString(16);if(7===i)return"SUBN V"+t.toString(16)+" V"+n.toString(16);if(14===i)return"SHL V"+t.toString(16)}if(k(e,36864,40959))return"SNE V"+t.toString(16)+" V"+n.toString(16);if(k(e,40960,45055))return"LDI 0x"+r.toString(16);if(k(e,45056,49151))return"JP V0 0x"+r.toString(16);if(k(e,49152,53247))return"RND 0x"+a.toString(16);if(k(e,53248,57343))return"DRW V"+t.toString(16)+" V"+n.toString(16)+" "+i;if(k(e,57344,61439)){if(158===a)return"SKP V"+t.toString(16);if(161===a)return"SKNP V"+t.toString(16)}if(k(e,61440,65535)){if(7===a)return"LD V"+t.toString(16)+" DT";if(10===a)return"LD V"+t.toString(16)+" K";if(21===a)return"LD DT V"+t.toString(16);if(24===a)return"LD ST V"+t.toString(16);if(30===a)return"ADD I V"+t.toString(16);if(41===a)return"LD F V"+t.toString(16);if(51===a)return"LD B V"+t.toString(16);if(85===a)return"LD I V"+t.toString(16);if(101===a)return"LD V"+t.toString(16)+" I"}return"-"},k=function(e,t,n){return e>=t&&e<=n},v=n(8093),_=n(5414),w=function(){var e=(0,c.useRef)((0,c.useContext)(o.Z)),t=(0,c.useState)(null),a=t[0],u=t[1],k=(0,c.useState)(null),w=k[0],x=k[1],y=(0,c.useState)(0),b=y[0],N=y[1],L=(0,c.useState)(!0),T=L[0],R=L[1],V=(0,c.useState)(!0),M=V[0],D=V[1],P=(0,c.useState)(!1),H=P[0],C=P[1],A=(0,c.useState)(!1),B=A[0],I=A[1],F=(0,v.useMediaQuery)({query:"(min-width: 1200px)"}),W=(0,v.useMediaQuery)({query:"(min-width: 500px)"}),O=function(){var e=(0,r.Z)(i().mark((function e(){var t,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(996).then(n.bind(n,5996));case 2:return t=e.sent,e.next=5,n.e(61).then(n.bind(n,2426));case 5:r=e.sent,a=r.memory,c=t.CHIP8.new(),u(c),x(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,c,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=14;break}return n=a.get_memory(),r=new Uint8Array(w.buffer,n,4096),e.next=5,fetch("/roms/"+t);case 5:return c=e.sent,e.next=8,c.arrayBuffer();case 8:for(o=e.sent,s=new DataView(o,0,o.byteLength),l=0;l<s.byteLength;l++)r[512+l]=s.getUint8(l);window.addEventListener("keyup",(function(e){return h(e,a)})),window.addEventListener("keydown",(function(e){return S(e,a)})),R(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e,t){return 64*e+t},J=function(){return F?8:W?6:4};return(0,c.useEffect)((function(){O(),e.current.setStyle(!0),setTimeout((function(){I(!0)}),100)}),[]),(0,c.useEffect)((function(){C(!1)}),[H]),c.createElement(c.Fragment,null,c.createElement(_.q,{title:"Jarrod Boone::Boone8"},c.createElement("meta",{charSet:"utf-8"}),c.createElement("meta",{name:"description",content:"A Chip8 Emulator, written in Rust and Compiled to WebAssembly"}),c.createElement("meta",{name:"author",content:"Jarrod Boone"}),c.createElement("meta",{name:"keywords",content:"Rust, Opcodes, NES, emulator"}),c.createElement("meta",{name:"viewport",content:"width=device-width"}),c.createElement("meta",{name:"language",content:"en"})),c.createElement("main",{className:"chip8Page-module--cssMain--3vxsB"},c.createElement("h1",{className:"chip8Page-module--title--2wMmR"},"Boone-8"),c.createElement("p",{className:"chip8Page-module--desc--1kkid"},"A Chip8 Emulator written in Rust and compiled to WebAssembly."),c.createElement("div",{className:f},c.createElement("div",{className:"chip8Page-module--buttonFlex--45BYJ"},c.createElement("select",{className:g,onChange:function(e){return function(e){e.target.value&&(R(!0),a.reset(),q(e.target.value))}(e)}},c.createElement("option",{value:""},"Load ROM"),c.createElement("option",{value:"Astro.ch8"},"Astro"),c.createElement("option",{value:"Blinky.ch8"},"Blinky"),c.createElement("option",{value:"Bowling.ch8"},"Bowling"),c.createElement("option",{value:"Cave.ch8"},"Cave"),c.createElement("option",{value:"Connect4.ch8"},"Connect4"),c.createElement("option",{value:"Landing.ch8"},"Landing"),c.createElement("option",{value:"Pong.ch8"},"Pong"),c.createElement("option",{value:"Puzzle.ch8"},"Puzzle"),c.createElement("option",{value:"Rocket.ch8"},"Rocket"),c.createElement("option",{value:"Slide.ch8"},"Slide"),c.createElement("option",{value:"Soccer.ch8"},"Soccer"),c.createElement("option",{value:"Space.ch8"},"Space"),c.createElement("option",{value:"Submarine.ch8"},"Submarine"),c.createElement("option",{value:"Tank.ch8"},"Tank"),c.createElement("option",{value:"Tetris.ch8"},"Tetris"),c.createElement("option",{value:"Timebomb.ch8"},"Timebomb"),c.createElement("option",{value:"Tron.ch8"},"Tron"),c.createElement("option",{value:"WipeOff.ch8"},"WipeOff"),c.createElement("option",{value:"Worm.ch8"},"Worm")),c.createElement("select",{className:g,value:b,onChange:function(e){return N(e.target.value)}},c.createElement("option",{value:0},"Speed"),c.createElement("option",{value:1},"x1"),c.createElement("option",{value:2},"x2"),c.createElement("option",{value:4},"x4"),c.createElement("option",{value:8},"x8"),c.createElement("option",{value:10},"x10")),c.createElement("button",{onClick:function(){return D(!M)},className:g},M?"Start":"Stop"),c.createElement("button",{className:g,onClick:function(){return C(!0)}},"Step"))),c.createElement("div",{className:"chip8Page-module--canvasDiv--1swOu"},B&&c.createElement(s,{draw:T?function(e){var t=J();e.fillStyle="#000000",e.fillRect(0,0,64*t,32*t)}:function(e){var t=J(),n=a.get_video(),r=new Uint8Array(w.buffer,n,2048);e.beginPath(),e.fillStyle="#70FF70";for(var i=0;i<32;i++)for(var c=0;c<64;c++){0!==r[z(i,c)]&&e.fillRect(c*t,i*t,t,t)}e.fillStyle="#000000";for(var o=0;o<32;o++)for(var s=0;s<64;s++){0===r[z(o,s)]&&e.fillRect(s*t,o*t,t,t)}if(e.stroke(),!M||M&&H)for(var l=0;l<b;l++)a.tick()},pixel_size:J(),width:64*J(),height:32*J(),borderStyle:"chip8Page-module--canvasBorder--3TeJ9"})),c.createElement("div",{className:f},c.createElement(d,{get_value:function(){if(a&&w)return{pc:a.get_pc(),index:a.get_index(),st:a.get_sound_timer(),dt:a.get_delay_timer(),si:a.get_stack_index(),registers:new Uint8Array(w.buffer,a.get_registers(),16),opcode:E(a.get_opcode())}}})),c.createElement("br",null),c.createElement("hr",{className:p}),c.createElement("p",{className:"chip8Page-module--instructionTitle--29rCT"},"Controls"),c.createElement("hr",{className:p}),c.createElement("p",{className:m},"1 2 3 4"),c.createElement("p",{className:m},"Q W E R"),c.createElement("p",{className:m},"A S D F"),c.createElement("p",{className:m},"Z X C V"),c.createElement("hr",{className:p}),c.createElement("p",{className:"chip8Page-module--pTitle--3Kbts"},"What is this?"),c.createElement("p",{className:l},"This is an emulator for the Chip8 interpreted programming language. An emulator is just a piece of hardware/software that is written to behave like another piece of hardware/software. In this example, I emulated the Chip8 interpreted programming language, which was made in the 1970s. It was designed to allow video games to easily be programmed for the computers of that era, like the Telmac 1800."),c.createElement("p",{className:l},"I was always fascinated with the idea of creating software that behaved like hardware. I wanted to try my hand at emulating older video game consoles, and from my research, it seemed that the Chip8 was the goto baby's first emulator. It is ideal for its simplistic instruction set, only having about 35 opcodes to interpret."),c.createElement("p",{className:l},"In the future, I'd like to try emulating the Nintendo Entertainment System (NES).")))}}}]);
//# sourceMappingURL=component---src-pages-projects-chip-8-js-c07b42094a5f975f4faa.js.map